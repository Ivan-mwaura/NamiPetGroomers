import{r as i,q as p,j as t}from"./index.js";import"./CustomTextField.js";import{C as P}from"./CustomButton.js";import{C as j}from"./CustomTable.js";import{A as c}from"./Avatar.js";import"./index.esm.js";import"./MenuItem.js";const D=()=>{const[o,r]=i.useState(1),a=7,{blogs:d}=i.useContext(p),m=()=>{r(e=>e+1)},x=()=>{r(e=>Math.max(e-1,1))},l=d.data.map(e=>({_id:e._id,title:e.title,author:e.author,datePosted:e.datePosted,content:e.content,image:e.image})),n=(o-1)*a,g=l.slice(n,n+a),h=e=>{if(!e)return"";const s=e.split(" ");return s[0].charAt(0)+s[s.length-1].charAt(0)},u=[{label:"Blog Image",field:"image",render:(e,s)=>e?t.jsx(c,{src:e,alt:s.title}):t.jsx(c,{children:h(s.title)})},{label:"Title",field:"title"},{label:"Author",field:"author"},{label:"Date Posted",field:"datePosted"},{label:"Content",field:"content"}];return t.jsxs("div",{className:"Blogs DisplayFlex",children:[t.jsxs("div",{className:"Header",children:[t.jsx("span",{children:"Dashboard"})," ",t.jsx("i",{className:"fas fa-angle-right"})," ",t.jsx("span",{children:"Blogs"})]}),t.jsxs("div",{className:"BlogsContainer DisplayFlex",children:[t.jsxs("div",{className:"BlogsTop DisplayFlex",children:[t.jsx("div",{className:"Filter DisplayFlex"}),t.jsx("div",{className:"Edit",children:t.jsx(P,{size:"small",text:"Add",customStyles:{backgroundColor:"var(--green)"},onClick:()=>{window.location.href="blog/new"}})})]}),t.jsx("div",{className:"BlogsBottom",children:t.jsx(j,{data:g,columns:u,currentPage:o,totalItems:l==null?void 0:l.length,usersPerPage:a,accomodationsPerPage:a,handleNextPage:m,handlePreviousPage:x,context:"blogs"})})]})]})};export{D as default};
