import{r as g,j as e,b as D,B as d}from"./index.js";import{a as u,C as f}from"./CustomButton.js";import{b as v}from"./index.esm.js";const I=()=>{const m=v(),[s,a]=g.useState({pricingName:"",pricingDescription:"",pricingPrice:"",PricingBenefits:[]}),[t,h]=g.useState({}),[l,p]=g.useState(""),x=async i=>{i.preventDefault();const r={};if(s.pricingName||(r.pricingName="Name is required"),s.pricingDescription||(r.pricingDescription="Description is required"),s.pricingPrice||(r.pricingPrice="Price is required"),s.PricingBenefits.length===0&&(r.PricingBenefits="At least one benefit is required"),h(r),Object.keys(r).length===0)try{await D.post("http://localhost:5000/api/v1/pricing",s),d.success("Pricing created successfully"),console.log("Pricing created successfully",s),m.push("/pricings")}catch(n){console.error("Error creating pricing:",n),d.error("Error creating pricing")}},j=i=>{const{name:r,value:n}=i.target;a(c=>({...c,[r]:n}))},P=i=>{p(i.target.value)},b=()=>{l.trim()&&(a(i=>({...i,PricingBenefits:[...i.PricingBenefits,l.trim()]})),p(""))},B=i=>{a(r=>({...r,PricingBenefits:r.PricingBenefits.filter((n,c)=>c!==i)}))},o=(i,r,n,c="text",N=!1,y=1)=>e.jsxs("div",{className:"InputGroup",children:[e.jsx("label",{htmlFor:i,children:r}),e.jsx(u,{id:i,name:i,placeholder:n,size:"medium",type:c,multiline:N,rows:y,value:s[i],onChange:j,error:!!t[i],helperText:t[i]&&t[i]})]});return e.jsxs("div",{className:"PricingNew DisplayFlex",children:[e.jsxs("div",{className:"Header DisplayFlex",children:[e.jsx("span",{children:"Dashboard"})," ",e.jsx("i",{className:"fas fa-angle-right"}),e.jsx("span",{children:"Pricing"})," ",e.jsx("i",{className:"fas fa-angle-right"}),e.jsx("span",{children:"Add"})]}),e.jsxs("form",{onSubmit:x,className:"PricingNewContainer DisplayFlex",children:[e.jsxs("div",{className:"PricingDetails DisplayFlex",children:[e.jsx("h2",{children:"Pricing Details"}),o("pricingName","Name","e.g. Gold"),o("pricingDescription","Description","e.g. Best for business"),o("pricingPrice","Price","e.g. 1000","number"),e.jsxs("div",{className:"InputGroup",children:[e.jsx("label",{htmlFor:"benefitInput",children:"Benefits"}),e.jsx(u,{id:"benefitInput",name:"benefitInput",placeholder:"Enter a benefit and click Add",size:"medium",type:"text",value:l,onChange:P,helperText:t.PricingBenefits&&t.PricingBenefits}),e.jsx(f,{text:"Add",customStyles:{backgroundColor:"var(--green)"},onClick:b}),e.jsx("ul",{children:s.PricingBenefits.map((i,r)=>e.jsxs("li",{children:[i," ",e.jsx("button",{type:"button",onClick:()=>B(r),children:"Remove"})]},r))})]})]}),e.jsx("div",{className:"BtnGroup DisplayFlex",children:e.jsx(f,{text:"Submit",type:"submit",customStyles:{backgroundColor:"var(--green)"}})})]})]})};export{I as default};
