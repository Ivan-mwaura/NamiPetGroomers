import{r as t,j as e,b,B as D}from"./index.js";import{C as F,a as v}from"./CustomButton.js";import{b as I}from"./index.esm.js";const A=()=>{const p=I(),[r,f]=t.useState({animalName:"",animalBreed:"",animalType:""}),[n,x]=t.useState(null),[o,h]=t.useState(null),[m,g]=t.useState({}),u=async a=>{a.preventDefault();const s={};if(r.animalName||(s.animalName="Name is required"),r.animalBreed||(s.animalBreed="Breed is required"),r.animalType||(s.animalType="Type is required"),g(s),Object.keys(s).length===0){const l=new FormData;l.append("animalName",r.animalName),l.append("animalBreed",r.animalBreed),l.append("animalType",r.animalType),n&&l.append("beforeImage",n),o&&l.append("afterImage",o);try{await b.post("http://localhost:5000/api/v1/addAnimalGrooming",l,{headers:{"Content-Type":"multipart/form-data"}}),D.success("Animal Grooming created successfully"),console.log("Animal Grooming created successfully",l),p.push("/animalGallery")}catch(i){console.error("Error creating animal grooming:",i)}}},c=(a,s)=>{s==="before"?x(a.target.files[0]):h(a.target.files[0])},y=a=>{const{name:s,value:l}=a.target;f(i=>({...i,[s]:l}))},d=(a,s,l,i="text",j=!1,N=1)=>e.jsxs("div",{className:"InputGroup",children:[e.jsx("label",{htmlFor:a,children:s}),e.jsx(v,{id:a,name:a,placeholder:l,size:"medium",type:i,multiline:j,rows:N,value:r[a],onChange:y,error:!!m[a],helperText:m[a]&&m[a]})]});return e.jsxs("div",{className:"AccomodationNew DisplayFlex",children:[e.jsxs("div",{className:"Header DisplayFlex",children:[e.jsx("span",{children:"Dashboard"})," ",e.jsx("i",{className:"fas fa-angle-right"}),e.jsx("span",{children:"Animal Groomings"})," ",e.jsx("i",{className:"fas fa-angle-right"}),e.jsx("span",{children:"Add"})]}),e.jsxs("form",{onSubmit:u,className:"AccomodationNewContainer DisplayFlex",children:[e.jsxs("div",{className:"EventsTop DisplayFlex",children:[e.jsxs("div",{className:"EventImages DisplayFlex",children:[e.jsxs("div",{className:"UploadBox DisplayFlex",children:[e.jsx("input",{type:"file",id:"beforeImage",name:"beforeImage",style:{display:"none"},onChange:a=>c(a,"before")}),e.jsxs("label",{htmlFor:"beforeImage",className:"upload-label",children:[e.jsx("i",{className:"fa fa-cloud-upload-alt"}),e.jsx("p",{children:"Click here or drop file for Before Image"})]}),n&&e.jsx("p",{children:n.name})]}),e.jsxs("div",{className:"UploadBox DisplayFlex",children:[e.jsx("input",{type:"file",id:"afterImage",name:"afterImage",style:{display:"none"},onChange:a=>c(a,"after")}),e.jsxs("label",{htmlFor:"afterImage",className:"upload-label",children:[e.jsx("i",{className:"fa fa-cloud-upload-alt"}),e.jsx("p",{children:"Click here or drop file for After Image"})]}),o&&e.jsx("p",{children:o.name})]})]}),e.jsxs("div",{className:"EventDetails DisplayFlex",children:[e.jsx("h2",{children:"Animal Grooming Details"}),d("animalName","Name","e.g Animal name"),d("animalBreed","Breed","e.g Animal breed"),d("animalType","Type","e.g Dog, Cat, etc.")]})]}),e.jsx("div",{className:"BtnGroup DisplayFlex",children:e.jsx(F,{text:"Submit",type:"submit",customStyles:{backgroundColor:"var(--green)"}})})]})]})};export{A as default};
