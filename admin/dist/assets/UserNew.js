import{r as l,j as s,b as y,B as d}from"./index.js";import{C as v}from"./CustomTextField.js";import{C as w}from"./CustomButton.js";import{b as C}from"./index.esm.js";import{C as D}from"./CircularProgress.js";const A=()=>{const m=C(),[r,p]=l.useState({email:"",password:"",role:"admin"}),[t,x]=l.useState({}),[u,n]=l.useState(!1),h=async e=>{e.preventDefault();const a={};if(r.email||(a.email="Email is required"),r.password||(a.password="Password is required"),x(a),Object.keys(a).length===0){n(!0);try{await y.post("/api/v1/adminSignUp",r,{headers:{"Content-Type":"application/json"}}),d.success("Admin created successfully"),console.log("Admin created successfully",r),m.push("/users")}catch(i){console.error("Error creating admin:",i),d.error("Error creating admin. Please try again.")}finally{n(!1)}}},f=e=>{const{name:a,value:i}=e.target;p(o=>({...o,[a]:i}))},c=(e,a,i,o="text",j=!1,g=1)=>s.jsxs("div",{className:"InputGroup",children:[s.jsx("label",{htmlFor:e,children:a}),s.jsx(v,{id:e,name:e,placeholder:i,size:"medium",type:o,multiline:j,rows:g,value:r[e],onChange:f,error:!!t[e],helperText:t[e]&&t[e]})]});return s.jsxs("div",{className:"AccomodationNew DisplayFlex",children:[s.jsxs("div",{className:"Header DisplayFlex",children:[s.jsx("span",{children:"Dashboard"})," ",s.jsx("i",{className:"fas fa-angle-right"}),s.jsx("span",{children:"Users"})," ",s.jsx("i",{className:"fas fa-angle-right"}),s.jsx("span",{children:"Add Admin"})]}),s.jsxs("form",{onSubmit:h,className:"AccomodationNewContainer DisplayFlex",children:[s.jsx("div",{className:"EventsTop DisplayFlex",children:s.jsxs("div",{className:"EventDetails DisplayFlex",children:[s.jsx("h2",{children:"Admin Details"}),c("email","Email","admin@example.com","email"),c("password","Password","Set a password","password")]})}),s.jsx("div",{className:"BtnGroup DisplayFlex",children:u?s.jsx(D,{}):s.jsx(w,{text:"Submit",type:"submit",customStyles:{backgroundColor:"var(--green)"}})})]})]})};export{A as default};
