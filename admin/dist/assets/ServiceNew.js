import{z as D,r as l,j as e,b as g,B as N}from"./index.js";import{C as S,a as f}from"./CustomButton.js";import{b as y}from"./index.esm.js";const w=()=>{y();const p=D(),[t,u]=l.useState({title:"",description:"",price:""});l.useState(new Date().toISOString().split("T")[0]),l.useState(null);const[c,v]=l.useState({}),x=async s=>{s.preventDefault();const i={};if(t.title||(i.title="Title is required"),t.description||(i.description="Description is required"),t.price||(i.price="Price is required"),v(i),Object.keys(i).length===0)try{const r={serviceName:t.title,serviceDescription:t.description,servicePrice:t.price};console.log("Submitting service data:",r),await g.post("http://localhost:5000/api/v1/services",r),N.success("Service created successfully"),p("admin/Services")}catch(r){console.error("Error creating service:",r)}},m=s=>{const{name:i,value:r}=s.target;u(o=>({...o,[i]:r}))},n=(s,i,r,o="text",h=!1,j=1,a=null)=>e.jsxs("div",{className:"InputGroup",children:[e.jsx("label",{htmlFor:s,children:i}),e.jsx(f,{id:s,name:s,placeholder:r,size:"medium",type:o,multiline:h,rows:j,value:t[s],onChange:m,error:!!c[s],helperText:c[s]&&c[s],select:!!a,SelectProps:a?{native:!0}:void 0,children:a&&a.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))})]});return e.jsxs("div",{className:"EventsNew DisplayFlex",children:[e.jsxs("div",{className:"Header DisplayFlex",children:[e.jsx("span",{children:"Dashboard"})," ",e.jsx("i",{className:"fas fa-angle-right"}),e.jsx("span",{children:"New Service"})," ",e.jsx("i",{className:"fas fa-angle-right"}),e.jsx("span",{children:"Add"})]}),e.jsxs("form",{onSubmit:x,className:"EventsNewContainer DisplayFlex",children:[e.jsxs("div",{className:"EventsTop DisplayFlex",children:[e.jsx("div",{className:"EventImages DisplayFlex",children:e.jsx("div",{className:"UploadBox DisplayFlex",children:"Add a new  Service"})}),e.jsxs("div",{className:"EventDetails DisplayFlex",children:[e.jsx("h2",{children:"Service Details"}),n("title","Title","e.g Service name"),e.jsx("div",{className:"InputGroups DisplayFlex",children:n("price","Price","e.g Ksh. 4,000","number")}),n("description","Description","Enter event description here...","text",!0,4)]})]}),e.jsx("div",{className:"BtnGroup DisplayFlex",children:e.jsx(S,{text:"Submit",type:"submit",customStyles:{backgroundColor:"var(--green)"}})})]})]})};export{w as default};
