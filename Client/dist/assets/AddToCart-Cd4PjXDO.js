import{o as j,c as v,r as n,j as e,$ as C,P as b,a as N,B as l}from"./index-B4gll2XM.js";const f=()=>{const d=j(),u=v(),{product:t}=d.state||{},[s,a]=n.useState(1),[m,c]=n.useState(!1);if(!t)return e.jsx("div",{children:"Product not found"});const p=o=>{a(o.target.value)},h={display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--primary-color)"},g=()=>{const o={...t,quantity:s},r=[...JSON.parse(localStorage.getItem("cartItems"))||[],o];localStorage.setItem("cartItems",JSON.stringify(r));const i=localStorage.getItem("UserEmail")||[];console.log("cartGoods",r),console.log("userEmail",i),N.post("/api/v1/storeCartItems",{userEmail:i,updatedCartItems:r}).then(x=>{x.status===200&&l.success("Cart items stored successfully")}),c(!0),l.success("Item added successfully to cart!"),setTimeout(()=>{u("/Cart"),c(!1)},300)};return e.jsx(e.Fragment,{children:m?e.jsx("div",{style:h,children:e.jsx(C,{colors:["rgb(0, 189, 86)","rgb(0, 189, 86)","rgb(0, 189, 86)","rgb(0, 189, 86)","rgb(0, 189, 86)"],height:80,width:50,timeout:1e3})}):e.jsxs("div",{className:"add-to-cart",children:[e.jsx("div",{className:"breadcrumb",children:e.jsxs("span",{children:["Home / Pet Store / Dog Supplies / Dog Food & Treats / ",t.productName]})}),e.jsxs("div",{className:"product-details",children:[e.jsx("div",{className:"image-section",children:e.jsx("img",{src:t.productImage,alt:t.productName})}),e.jsxs("div",{className:"details-section",children:[e.jsx("h1",{children:t.productName}),e.jsxs("div",{className:"ratings",children:[e.jsx("span",{children:"⭐".repeat(t.productRating)})," (5000 customer reviews)"]}),e.jsxs("div",{className:"price",children:[t.productPrice," KSh"]}),e.jsx("p",{children:t.productDescription}),e.jsxs("div",{className:"options",children:[e.jsx("label",{children:"Select Menu:"}),e.jsx("select",{children:e.jsx("option",{value:"",children:"Choose an option"})})]}),e.jsxs("div",{className:"quantity",children:[e.jsx("button",{onClick:()=>a(s>1?s-1:1),children:"-"}),e.jsx("input",{type:"number",value:s,onChange:p,min:"1"}),e.jsx("button",{onClick:()=>a(s+1),children:"+"})]}),e.jsx("button",{className:"add-to-cart-btn",onClick:g,children:"ADD TO CART"})]})]})]})})};f.propTypes={product:b.object};export{f as default};
