import{o as j,c as v,r as n,j as t,$ as C,P as b,a as N,B as l}from"./index-CJpKQtVr.js";const f=()=>{const d=j(),u=v(),{product:e}=d.state||{},[s,a]=n.useState(1),[m,c]=n.useState(!1);if(!e)return t.jsx("div",{children:"Product not found"});const p=o=>{a(o.target.value)},h={display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"var(--primary-color)"},g=()=>{const o={...e,quantity:s},r=[...JSON.parse(localStorage.getItem("cartItems"))||[],o];localStorage.setItem("cartItems",JSON.stringify(r));const i=localStorage.getItem("UserEmail")||[];console.log("cartGoods",r),console.log("userEmail",i),N.post("http://localhost:5000/api/v1/storeCartItems",{userEmail:i,updatedCartItems:r}).then(x=>{x.status===200&&l.success("Cart items stored successfully")}),c(!0),l.success("Item added successfully to cart!"),setTimeout(()=>{u("/Cart"),c(!1)},300)};return t.jsx(t.Fragment,{children:m?t.jsx("div",{style:h,children:t.jsx(C,{colors:["rgb(0, 189, 86)","rgb(0, 189, 86)","rgb(0, 189, 86)","rgb(0, 189, 86)","rgb(0, 189, 86)"],height:80,width:50,timeout:1e3})}):t.jsxs("div",{className:"add-to-cart",children:[t.jsx("div",{className:"breadcrumb",children:t.jsxs("span",{children:["Home / Pet Store / Dog Supplies / Dog Food & Treats / ",e.productName]})}),t.jsxs("div",{className:"product-details",children:[t.jsx("div",{className:"image-section",children:t.jsx("img",{src:e.productImage,alt:e.productName})}),t.jsxs("div",{className:"details-section",children:[t.jsx("h1",{children:e.productName}),t.jsxs("div",{className:"ratings",children:[t.jsx("span",{children:"⭐".repeat(e.productRating)})," (5000 customer reviews)"]}),t.jsxs("div",{className:"price",children:[e.productPrice," KSh"]}),t.jsx("p",{children:e.productDescription}),t.jsxs("div",{className:"options",children:[t.jsx("label",{children:"Select Menu:"}),t.jsx("select",{children:t.jsx("option",{value:"",children:"Choose an option"})})]}),t.jsxs("div",{className:"quantity",children:[t.jsx("button",{onClick:()=>a(s>1?s-1:1),children:"-"}),t.jsx("input",{type:"number",value:s,onChange:p,min:"1"}),t.jsx("button",{onClick:()=>a(s+1),children:"+"})]}),t.jsx("button",{className:"add-to-cart-btn",onClick:g,children:"ADD TO CART"})]})]})]})})};f.propTypes={product:b.object};export{f as default};
