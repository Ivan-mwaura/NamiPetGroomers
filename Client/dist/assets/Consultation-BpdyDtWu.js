import{r as i,j as e,a as c,B as v}from"./index-Cbx0FzZ0.js";const p=()=>{const[o,m]=i.useState([]),[a,d]=i.useState({firstName:"",lastName:"",selectedService:"",email:"",phoneNo:"",message:""}),[l,n]=i.useState(!1);i.useEffect(()=>{(async()=>{try{const s=await c.get("http://localhost:5000/api/v1/getServices");m(s.data.data)}catch(s){console.error("Error fetching services:",s)}})()},[]);const r=t=>{const{name:s,value:u}=t.target;d({...a,[s]:u})},h=async t=>{t.preventDefault(),n(!0);try{await c.post("http://localhost:5000/api/v1/messages",a).then(s=>{s.status===200&&v.success("Message Sent Successfully.")})}catch(s){console.error("Error sending message:",s),alert("Failed to send message.")}finally{n(!1)}};return e.jsxs("div",{className:"consultation",children:[e.jsx("div",{className:"image-container"}),e.jsxs("div",{className:"form-container",children:[e.jsx("h2",{children:"Free Consultation"}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"selectedService",children:"Select services"}),e.jsxs("select",{id:"selectedService",name:"selectedService",value:a.selectedService,onChange:r,required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select a service"}),o.map(t=>e.jsx("option",{value:t.serviceName,children:t.serviceName},t._id))]})]}),e.jsxs("div",{className:"name-vn",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"firstName",children:"First Name"}),e.jsx("input",{type:"text",id:"firstName",name:"firstName",value:a.firstName,onChange:r,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"lastName",children:"Last Name"}),e.jsx("input",{type:"text",id:"lastName",name:"lastName",value:a.lastName,onChange:r,required:!0})]})]}),e.jsxs("div",{className:"contact-info",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:r,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phoneNo",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phoneNo",name:"phoneNo",value:a.phoneNo,onChange:r,required:!0})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"message",children:"Message"}),e.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:r,required:!0})]}),e.jsx("button",{type:"submit",disabled:l,children:l?"Sending...":"SEND MESSAGE"})]})]})]})};export{p as C};
